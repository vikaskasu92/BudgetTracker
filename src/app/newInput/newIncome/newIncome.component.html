<mat-accordion>
    <mat-expansion-panel class="shadow expansion-panel-bottom" [expanded]="openPanel"  (click)="expansionPanelClicked()" >
        <mat-expansion-panel-header>
            <mat-panel-title> Income </mat-panel-title>
        </mat-expansion-panel-header>
        <form  #incomeForm="ngForm" class="expansion-panel-bottom" (ngSubmit)="saveIncome()">
            <mat-form-field appearance="fill" class="form-field-spacing">
                <mat-label>Salary Recieved</mat-label>
                <input matInput name="salary" required ngModel #salary="ngModel" placeholder="$" pattern="^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})?$">
                <mat-error *ngIf="!salary.valid && salary.touched">Salary is inValid!</mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" class="date form-field-spacing">
                <mat-label>Choose a date</mat-label>
                <input matInput [max]="maxDate" [matDatepicker]="salaryPicker" name="salaryDate" ngModel #salaryDate="ngModel" (click)="datePickerCalled()" required>
                <mat-datepicker-toggle matSuffix [for]="salaryPicker"></mat-datepicker-toggle>
                <mat-datepicker #salaryPicker></mat-datepicker>
                <mat-error *ngIf="!salaryDate.valid && salaryDate.touched">{{ dateErrorMessage }}</mat-error>
            </mat-form-field>
            <br>
            <mat-label>Taxes</mat-label>
            <br>
            <mat-form-field appearance="fill" class="form-field-spacing">
                <mat-label>Federal Tax</mat-label>
                <input matInput name="federalTax" required ngModel #federalTax="ngModel" placeholder="$" pattern="^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})?$">
                <mat-error *ngIf="!federalTax.valid && federalTax.touched">Federal Taxstate is inValid!</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill" class="form-field-spacing">
                <mat-label>State Tax</mat-label>
                <input matInput name="stateTax" required ngModel #stateTax="ngModel" placeholder="$" pattern="^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})?$">
                <mat-error *ngIf="!stateTax.valid && stateTax.touched">State Tax is inValid!</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill" class="form-field-spacing">
                <mat-label>Medicare Tax</mat-label>
                <input matInput name="medicareTax" required ngModel #medicareTax="ngModel" placeholder="$" pattern="^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})?$">
                <mat-error *ngIf="!medicareTax.valid && medicareTax.touched">Medicare Tax is inValid!</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill" class="form-field-spacing">
                <mat-label>Social Security Tax</mat-label>
                <input matInput name="socialSecurityTax" required ngModel #socialSecurityTax="ngModel" placeholder="$" pattern="^[+-]?[0-9]{1,3}(?:,?[0-9]{3})*(?:\.[0-9]{2})?$">
                <mat-error *ngIf="!socialSecurityTax.valid && socialSecurityTax.touched">Social Security Tax is inValid!</mat-error>
            </mat-form-field>
            <br>
            <button mat-raised-button color="primary">Save <mat-icon>save</mat-icon></button>
        </form>
    </mat-expansion-panel>
</mat-accordion>